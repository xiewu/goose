"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[5454],{3902:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/header-image-ce224702149226ea0924fac736eef2fa.png"},4633:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>l});var n=o(66849),s=o(74848),i=o(28453);const a={title:"How to Stop Your AI Agent From Making Unwanted Code Changes",description:"Teach your AI agent how to commit early and often so you can control changes, roll back safely, and keep clean snapshots of your codebase.",authors:["rizel"]},r=void 0,c={authorsImageUrls:[void 0]},l=[{value:"1. Set Up Version Control",id:"1-set-up-version-control",level:3},{value:"2. Branch First",id:"2-branch-first",level:3},{value:"3. Set Rules in a Context File",id:"3-set-rules-in-a-context-file",level:3},{value:"4. Collaborate with Confidence",id:"4-collaborate-with-confidence",level:3},{value:"The Result",id:"the-result",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",p:"p",...(0,i.R)(),...e.components},{Head:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"goose, revert this change!",src:o(3902).A+"",width:"1206",height:"633"})}),"\n",(0,s.jsx)(t.p,{children:"AI agents are often described as brilliant, overeager interns. They're desperate to help, but sometimes that enthusiasm leads to changes you never asked for. This is by design: the large language models powering agents are trained to be helpful. But in code, unchecked helpfulness can create chaos. Even with clear instructions and a meticulous plan, you might hear, \"Let me just change this too\u2026\" A modification that's either unnecessary or, worse, never surfaced for review."}),"\n",(0,s.jsxs)(t.p,{children:["Sure, you can scour ",(0,s.jsx)(t.code,{children:"git diff"})," to find and revert issues. But in a multi-step process touching dozens of files, untangling one small, unwanted change becomes a manual nightmare. I've spent hours combing through 70 files to undo a single \"helpful\" adjustment. Asking the agent to revert is often futile, as conversational memory isn't a snapshot of your codebase."]}),"\n",(0,s.jsxs)(t.p,{children:["This problem has a classic engineering solution. We commit early and often to create checkpoints, enabling easy rollbacks and clean collaboration. So, why don't we enforce the same discipline on our AI agents? Here\u2019s the workflow I use with ",(0,s.jsx)(t.a,{href:"/",children:"goose"})," to ensure we're creating snapshots of the codebase:"]}),"\n",(0,s.jsx)(t.h3,{id:"1-set-up-version-control",children:"1. Set Up Version Control"}),"\n",(0,s.jsxs)(t.p,{children:["I set up the ",(0,s.jsx)(t.a,{href:"https://cli.github.com/",children:"GitHub CLI"})," (",(0,s.jsx)(t.code,{children:"gh"}),"). I've found Goose interacts with it flawlessly. The ",(0,s.jsx)(t.a,{href:"/docs/mcp/github-mcp",children:"GitHub MCP Server"})," is a good alternative."]}),"\n",(0,s.jsx)(t.h3,{id:"2-branch-first",children:"2. Branch First"}),"\n",(0,s.jsx)(t.p,{children:"Always start on a new feature branch. Never let an agent commit directly to main."}),"\n",(0,s.jsx)(t.h3,{id:"3-set-rules-in-a-context-file",children:"3. Set Rules in a Context File"}),"\n",(0,s.jsxs)(t.p,{children:["This is the key. I use a ",(0,s.jsx)(t.a,{href:"/docs/guides/context-engineering/using-goosehints",children:(0,s.jsx)(t.code,{children:".goosehints"})})," or ",(0,s.jsx)(t.a,{href:"/docs/guides/context-engineering/using-goosehints#custom-context-files",children:(0,s.jsx)(t.code,{children:"AGENTS.md"})})," file with one critical instruction:"]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:'"Every time you make a change, make a commit with a clear message."'}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This does two things: it automates checkpointing so I don't have to babysit the session, and it captures perfect snapshots in time, turning the git history into an undo stack for the entire collaboration."}),"\n",(0,s.jsx)(t.h3,{id:"4-collaborate-with-confidence",children:"4. Collaborate with Confidence"}),"\n",(0,s.jsx)(t.p,{children:"Now I can prompt goose to build, fix, or refactor. If it veers off course or makes a design choice I dislike, I can instantly review the git log or simply say:"}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:'"Revert to commit abc123."'})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"the-result",children:"The Result"}),"\n",(0,s.jsx)(t.p,{children:"Then, when I'm happy with the final changes, I can push my code to remote. By integrating this basic software practice, I replace anxiety with awareness. goose gets to be brilliantly helpful, and I get to stay in control."}),"\n",(0,s.jsxs)(t.p,{children:["Try out this method with ",(0,s.jsx)(t.a,{href:"/",children:"goose"})," to help you build your next project. Your future self (and your git history) will thank you."]}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("meta",{property:"og:title",content:"How to Stop Your AI Agent From Making Unwanted Changes"}),(0,s.jsx)("meta",{property:"og:type",content:"article"}),(0,s.jsx)("meta",{property:"og:url",content:"https://block.github.io/goose/blog/2025/12/10/stop-ai-agent-unwanted-changes"}),(0,s.jsx)("meta",{property:"og:description",content:"AI agents are often described as brilliant, overeager interns. Learn how to keep them in control with simple version control practices."}),(0,s.jsx)("meta",{property:"og:image",content:"https://block.github.io/goose/assets/images/header-image-ce224702149226ea0924fac736eef2fa.png"}),(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("meta",{property:"twitter:domain",content:"block.github.io/goose"}),(0,s.jsx)("meta",{name:"twitter:title",content:"How to Stop Your AI Agent From Making Unwanted Changes"}),(0,s.jsx)("meta",{name:"twitter:description",content:"AI agents are often described as brilliant, overeager interns. Learn how to keep them in control with simple version control practices."}),(0,s.jsx)("meta",{name:"twitter:image",content:"https://block.github.io/goose/assets/images/header-image-ce224702149226ea0924fac736eef2fa.png"})]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>r});var n=o(96540);const s={},i=n.createContext(s);function a(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:t},e.children)}},66849:e=>{e.exports=JSON.parse('{"permalink":"/goose/blog/2025/12/10/stop-ai-agent-unwanted-changes","source":"@site/blog/2025-12-10-stop-ai-agent-unwanted-changes/index.md","title":"How to Stop Your AI Agent From Making Unwanted Code Changes","description":"Teach your AI agent how to commit early and often so you can control changes, roll back safely, and keep clean snapshots of your codebase.","date":"2025-12-10T00:00:00.000Z","tags":[],"readingTime":2.83,"hasTruncateMarker":true,"authors":[{"name":"Rizel Scarlett","title":"Staff Developer Advocate","page":{"permalink":"/goose/blog/authors/rizel"},"socials":{"x":"https://x.com/blackgirlbytes","github":"https://github.com/blackgirlbytes","bluesky":"https://bsky.app/profile/blackgirlbytes.bsky.social","linkedin":"https://www.linkedin.com/in/rizel-bobb-semple/"},"imageURL":"https://avatars.githubusercontent.com/u/22990146?v=4","key":"rizel"}],"frontMatter":{"title":"How to Stop Your AI Agent From Making Unwanted Code Changes","description":"Teach your AI agent how to commit early and often so you can control changes, roll back safely, and keep clean snapshots of your codebase.","authors":["rizel"]},"unlisted":false,"prevItem":{"title":"Code Mode MCP in goose","permalink":"/goose/blog/2025/12/15/code-mode-mcp"},"nextItem":{"title":"MCP Sampling: When Your Tools Need to Think","permalink":"/goose/blog/2025/12/04/mcp-sampling"}}')}}]);