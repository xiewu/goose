/*! For license information please see 12706580.bcc973de.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[7732],{11470:(e,n,s)=>{s.d(n,{A:()=>k});var r=s(96540),t=s(34164),i=s(17559),o=s(23104),a=s(56347),l=s(205),c=s(57485),d=s(31682),u=s(70679);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r}))}(s);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function x({queryString:e=!1,groupId:n}){const s=(0,a.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(t),(0,r.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})},[t,s])]}function g(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,i=p(e),[o,a]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i})),[c,d]=x({queryString:s,groupId:t}),[h,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,t]=(0,u.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),j=(()=>{const e=c??h;return m({value:e,tabValues:i})?e:null})();(0,l.A)(()=>{j&&a(j)},[j]);return{selectedValue:o,selectValue:(0,r.useCallback)(e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),d(e),g(e)},[d,g,i]),tabValues:i}}var j=s(92303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=s(74848);function y({className:e,block:n,selectedValue:s,selectValue:r,tabValues:i}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=e=>{const n=e.currentTarget,t=a.indexOf(n),o=i[t].value;o!==s&&(l(n),r(o))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=a.indexOf(e.currentTarget)+1;n=a[s]??a[0];break}case"ArrowLeft":{const s=a.indexOf(e.currentTarget)-1;n=a[s]??a[a.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:r})=>(0,f.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{a.push(e)},onKeyDown:d,onClick:c,...r,className:(0,t.A)("tabs__item",v.tabItem,r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function b({lazy:e,children:n,selectedValue:s}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function w(e){const n=g(e);return(0,f.jsxs)("div",{className:(0,t.A)(i.G.tabs.container,"tabs-container",v.tabList),children:[(0,f.jsx)(y,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function k(e){const n=(0,j.A)();return(0,f.jsx)(w,{...e,children:h(e.children)},String(n))}},19365:(e,n,s)=>{s.d(n,{A:()=>o});s(96540);var r=s(34164);const t={tabItem:"tabItem_Ymn6"};var i=s(74848);function o({children:e,hidden:n,className:s}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,s),hidden:n,children:e})}},22322:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/files/custom-extension-mcp-inspector-db9f2e51b48d2529a9f90731c2a669db.png"},25874:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/custom-extension-tools-9d440447ae99b18ae92819e652148abe.png"},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var r=s(96540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},38359:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/custom-extension-mcp-inspector-db9f2e51b48d2529a9f90731c2a669db.png"},60321:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/custom-extension-chat-dade20fed6d387174db32667977bdae1.png"},71112:(e,n,s)=>{s.d(n,{A:()=>r});const r=(0,s(75395).A)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]])},75395:(e,n,s)=>{s.d(n,{A:()=>a});var r=s(96540);const t=(...e)=>e.filter((e,n,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===n).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=(0,r.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...d},u)=>(0,r.createElement)("svg",{ref:u,...i,width:n,height:n,stroke:e,strokeWidth:o?24*Number(s)/Number(n):s,className:t("lucide",a),...d},[...c.map(([e,n])=>(0,r.createElement)(e,n)),...Array.isArray(l)?l:[l]])),a=(e,n)=>{const s=(0,r.forwardRef)(({className:s,...i},a)=>{return(0,r.createElement)(o,{ref:a,iconNode:n,className:t(`lucide-${l=e,l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...i});var l});return s.displayName=`${e}`,s}},85844:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"tutorials/custom-extensions","title":"Building Custom Extensions","description":"Create your own custom MCP Server to use as a goose extension","source":"@site/docs/tutorials/custom-extensions.md","sourceDirName":"tutorials","slug":"/tutorials/custom-extensions","permalink":"/goose/docs/tutorials/custom-extensions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Building Custom Extensions","description":"Create your own custom MCP Server to use as a goose extension"},"sidebar":"tutorialSidebar","previous":{"title":"CI/CD Environments","permalink":"/goose/docs/tutorials/cicd"},"next":{"title":"goose in Docker","permalink":"/goose/docs/tutorials/goose-in-docker"}}');var t=s(74848),i=s(28453),o=s(71112),a=s(11470),l=s(19365);const c={title:"Building Custom Extensions",description:"Create your own custom MCP Server to use as a goose extension"},d="Building Custom Extensions with goose",u={},h=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Initialize Your Project",id:"step-1-initialize-your-project",level:2},{value:"Step 2: Write Your MCP Server Code",id:"step-2-write-your-mcp-server-code",level:2},{value:"<code>server.py</code>",id:"serverpy",level:3},{value:"<code>__init__.py</code>",id:"__init__py",level:3},{value:"<code>__main__.py</code>",id:"__main__py",level:3},{value:"Step 3: Define Project Configuration",id:"step-3-define-project-configuration",level:2},{value:"Step 4: Test Your MCP Server",id:"step-4-test-your-mcp-server",level:2},{value:"Step 5: Integrate with goose",id:"step-5-integrate-with-goose",level:2},{value:"Step 6: Use Your Extension in goose",id:"step-6-use-your-extension-in-goose",level:2},{value:"Advanced Features for MCP Extensions",id:"advanced-features-for-mcp-extensions",level:2},{value:"MCP Sampling: AI-Powered Tools",id:"mcp-sampling-ai-powered-tools",level:3},{value:"MCP Apps: Interactive Extensions",id:"mcp-apps-interactive-extensions",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"building-custom-extensions-with-goose",children:"Building Custom Extensions with goose"})}),"\n",(0,t.jsxs)(n.p,{children:["goose allows you to extend its functionality by creating your own custom extensions, which are built as MCP servers. These extensions are compatible with goose because it adheres to the ",(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io/",children:"Model Context Protocol (MCP)"}),". MCP is an open protocol that standardizes how applications provide context to LLMs. It enables a consistent way to connect LLMs to various data sources and tools, making it ideal for extending functionality in a structured and interoperable way.\xa0"]}),"\n",(0,t.jsxs)(n.p,{children:["In this guide, we build an MCP server using the ",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/python-sdk",children:"Python SDK for MCP"}),". We\u2019ll demonstrate how to create an MCP server that reads Wikipedia articles and converts them to Markdown, integrate it as an extension in goose. You can follow a similar process to develop your own custom extensions for goose."]}),"\n",(0,t.jsxs)(n.p,{children:["You can check out other example servers in the ",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/servers",children:"MCP servers repository"}),". MCP SDKs are also available for other common languages, such as ",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/typescript-sdk",children:"Typescript"})," and ",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/kotlin-sdk",children:"Kotlin"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["goose supports Tools, Resources, and Prompts from the ",(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io/",children:"Model Context Protocol"}),". See ",(0,t.jsx)(n.a,{href:"https://github.com/block/goose/blob/main/crates/goose/src/agents/mcp_client.rs",children:(0,t.jsx)(n.code,{children:"mcp_client.rs"})})," for the supported protocol version and client capabilities."]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before you begin, ensure you have the following installed on your system:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Python 3.13 or higher"})," - Required for the MCP server"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://docs.astral.sh/uv/",children:"uv"})})," - Python package manager used in this tutorial"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node.js and npm"})," - Only required if you want to use the MCP Inspector development tool in ",(0,t.jsx)(n.a,{href:"#step-4-test-your-mcp-server",children:"Step 4"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-1-initialize-your-project",children:"Step 1: Initialize Your Project"}),"\n",(0,t.jsxs)(n.p,{children:["The first step is to create a new project using ",(0,t.jsx)(n.a,{href:"https://docs.astral.sh/uv/getting-started/",children:"uv"}),". We will name our project ",(0,t.jsx)(n.code,{children:"mcp-wiki"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Run the following commands in your terminal to set up a basic structure for your MCP server:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv init --lib mcp-wiki\ncd mcp-wiki\n\nmkdir -p src/mcp_wiki\ntouch src/mcp_wiki/server.py\ntouch src/mcp_wiki/__main__.py\n"})}),"\n",(0,t.jsx)(n.p,{children:"Your project directory structure should look like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:".\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 pyproject.toml\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 mcp_wiki\n        \u251c\u2500\u2500 __init__.py   # Primary CLI entry point\n        \u251c\u2500\u2500 __main__.py   # To enable running as a Python module\n        \u251c\u2500\u2500 py.typed      # Indicates the package supports type hints\n        \u2514\u2500\u2500 server.py     # Your MCP server code (tool, resources, prompts)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-2-write-your-mcp-server-code",children:"Step 2: Write Your MCP Server Code"}),"\n",(0,t.jsx)(n.p,{children:"In this step, we\u2019ll implement the core functionality of the MCP server. Here is a breakdown of the key components:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"server.py"})}),": This file holds the main MCP server code. In this example, we define a single tool to read Wikipedia articles. You can add your own custom tools, resources, and prompts here."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"__init__.py"})}),": This is the primary CLI entry point for your MCP server."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"__main__.py"})}),": This file allows your MCP server to be executed as a Python module."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Below is the example implementation for the Wikipedia MCP server:"}),"\n",(0,t.jsx)(n.h3,{id:"serverpy",children:(0,t.jsx)(n.code,{children:"server.py"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import requests\nfrom requests.exceptions import RequestException\nfrom bs4 import BeautifulSoup\nfrom html2text import html2text\nfrom urllib.parse import urlparse\n\nfrom mcp.server.fastmcp import FastMCP\nfrom mcp.shared.exceptions import McpError\nfrom mcp.types import ErrorData, INTERNAL_ERROR, INVALID_PARAMS\n\nmcp = FastMCP("wiki")\n\n@mcp.tool()\ndef read_wikipedia_article(url: str) -> str:\n    """\n    Fetch a Wikipedia article at the provided URL, parse its main content,\n    convert it to Markdown, and return the resulting text.\n\n    Usage:\n        read_wikipedia_article("https://en.wikipedia.org/wiki/Python_(programming_language)")\n    """\n    try:\n        # Validate input\n        if not url.startswith("http"):\n            raise ValueError("URL must start with http or https.")\n\n        # SSRF protection: only allow Wikipedia domains\n        parsed = urlparse(url)\n        hostname = parsed.netloc.lower()\n        \n        # Allow wikipedia.org or *.wikipedia.org subdomains only\n        if hostname != \'wikipedia.org\' and not hostname.endswith(\'.wikipedia.org\'):\n            raise ValueError(f"Only Wikipedia URLs are allowed. Got: {parsed.netloc}")\n\n        # Add User-Agent header to avoid 403 from Wikipedia\n        headers = {\n            \'User-Agent\': \'MCP-Wiki/1.0 (Educational purposes; Python requests)\'\n        }\n        response = requests.get(url, headers=headers, timeout=10)\n        if response.status_code != 200:\n            raise McpError(\n                ErrorData(\n                    code=INTERNAL_ERROR,\n                    message=f"Failed to retrieve the article. HTTP status code: {response.status_code}"\n                )\n            )\n\n        soup = BeautifulSoup(response.text, "html.parser")\n        content_div = soup.find("div", {"id": "mw-content-text"})\n        if not content_div:\n            raise McpError(\n                ErrorData(\n                    code=INVALID_PARAMS,\n                    message="Could not find the main content on the provided Wikipedia URL."\n                )\n            )\n\n        # Convert to Markdown\n        markdown_text = html2text(str(content_div))\n        return markdown_text\n\n    except ValueError as e:\n        raise McpError(ErrorData(code=INVALID_PARAMS, message=str(e))) from e\n    except RequestException as e:\n        raise McpError(ErrorData(code=INTERNAL_ERROR, message=f"Request error: {str(e)}")) from e\n    except Exception as e:\n        raise McpError(ErrorData(code=INTERNAL_ERROR, message=f"Unexpected error: {str(e)}")) from e\n'})}),"\n",(0,t.jsx)(n.h3,{id:"__init__py",children:(0,t.jsx)(n.code,{children:"__init__.py"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import argparse\nfrom .server import mcp\n\ndef main():\n    """MCP Wiki: Read Wikipedia articles and convert them to Markdown."""\n    parser = argparse.ArgumentParser(\n        description="Gives you the ability to read Wikipedia articles and convert them to Markdown."\n    )\n    parser.parse_args()\n    mcp.run()\n\nif __name__ == "__main__":\n    main()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"__main__py",children:(0,t.jsx)(n.code,{children:"__main__.py"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from mcp_wiki import main\n\nmain()\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-3-define-project-configuration",children:"Step 3: Define Project Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Configure your project using ",(0,t.jsx)(n.code,{children:"pyproject.toml"}),".\xa0This configuration defines the CLI script so that the mcp-wiki command is available as a binary. Below is an example configuration:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-toml",children:'[project]\nname = "mcp-wiki"\nversion = "0.1.0"\ndescription = "MCP Server for Wikipedia"\nreadme = "README.md"\nrequires-python = ">=3.13"\ndependencies = [\n    "beautifulsoup4>=4.14.0",\n    "html2text>=2025.4.15",\n    "mcp[cli]>=1.25.0",\n    "requests>=2.32.3",\n]\n\n[project.scripts]\nmcp-wiki = "mcp_wiki:main"\n\n[build-system]\nrequires = ["hatchling"]\nbuild-backend = "hatchling.build"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-4-test-your-mcp-server",children:"Step 4: Test Your MCP Server"}),"\n",(0,t.jsx)(n.p,{children:"Verify that your MCP server is running in the MCP Inspector (a browser-based development tool) or the server CLI."}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsxs)(l.A,{value:"ui",label:"In MCP Inspector",default:!0,children:[(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"MCP Inspector requires Node.js and npm installed on your computer."})}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Setup the project environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv sync\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Activate your virtual environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"source .venv/bin/activate\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run your server in development mode:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mcp dev src/mcp_wiki/server.py\n"})}),"\n",(0,t.jsxs)(n.p,{children:["MCP Inspector should open automatically in your browser. On first run, you'll be prompted to install ",(0,t.jsx)(n.code,{children:"@modelcontextprotocol/inspector"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Test the tool:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.code,{children:"Connect"})," to initialize your MCP server"]}),"\n",(0,t.jsxs)(n.li,{children:["On the ",(0,t.jsx)(n.code,{children:"Tools"})," tab, click ",(0,t.jsx)(n.code,{children:"List Tools"})," and click the ",(0,t.jsx)(n.code,{children:"read_wikipedia_article"})," tool"]}),"\n",(0,t.jsxs)(n.li,{children:["Enter ",(0,t.jsx)(n.code,{children:"https://en.wikipedia.org/wiki/Bangladesh"})," for the URL and click ",(0,t.jsx)(n.code,{children:"Run Tool"})]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(22322).A+"",children:(0,t.jsx)(n.img,{alt:"MCP Inspector UI",src:s(38359).A+"",width:"1546",height:"1036"})})})]}),(0,t.jsx)(l.A,{value:"cli",label:"In the CLI",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Setup the project environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv sync\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Activate your virtual environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"source .venv/bin/activate\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install your project locally:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv pip install .\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Verify the CLI:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mcp-wiki --help\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see output similar to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"\u276f mcp-wiki --help\nusage: mcp-wiki [-h]\n\nGives you the ability to read Wikipedia articles and convert them to Markdown.\n\noptions:\n  -h, --help  show this help message and exit\n"})}),"\n"]}),"\n"]})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-5-integrate-with-goose",children:"Step 5: Integrate with goose"}),"\n",(0,t.jsx)(n.p,{children:"To add your MCP server as an extension in goose:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Build the extension binary:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv pip install .\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open goose Desktop and click the ",(0,t.jsx)(o.A,{className:"inline",size:16})," button in the top-left to open the sidebar"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.code,{children:"Extensions"})," in the sidebar"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set the ",(0,t.jsx)(n.code,{children:"Type"})," to ",(0,t.jsx)(n.code,{children:"STDIO"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Provide a name and description for your extension"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.code,{children:"Command"})," field, provide the absolute path to your executable:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"uv run /full/path/to/mcp-wiki/.venv/bin/mcp-wiki\n"})}),"\n",(0,t.jsx)(n.p,{children:"For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"uv run /Users/smohammed/Development/mcp/mcp-wiki/.venv/bin/mcp-wiki\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Rebuild binary after changes",type:"tip",children:(0,t.jsxs)(n.p,{children:["To see any changes you make to your MCP server code after integrating with goose, re-run ",(0,t.jsx)(n.code,{children:"uv pip install ."})," and then restart goose Desktop."]})}),"\n",(0,t.jsxs)(n.p,{children:["For the purposes of this guide, we'll run the local version. Alternatively, you can publish your package to PyPI.\xa0Once published, the server can be run directly using ",(0,t.jsx)(n.code,{children:"uvx"}),". For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"uvx mcp-wiki\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"step-6-use-your-extension-in-goose",children:"Step 6: Use Your Extension in goose"}),"\n",(0,t.jsx)(n.p,{children:"Once integrated, you can start using your extension in goose. Open the goose chat interface and call your tool as needed."}),"\n",(0,t.jsx)(n.p,{children:'You can verify that goose has picked up the tools from your custom extension by asking it "what tools do you have?"'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"goose Chat - Ask about tools",src:s(25874).A+"",width:"736",height:"502"})}),"\n",(0,t.jsx)(n.p,{children:"Then, you can try asking questions that require using the extension you added."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"goose Chat - Use custom extension",src:s(60321).A+"",width:"1179",height:"1106"})}),"\n",(0,t.jsxs)(n.p,{children:["\ud83c\udf89 ",(0,t.jsx)(n.strong,{children:"Congratulations!"})," You\u2019ve successfully built and integrated a custom MCP server with goose."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"advanced-features-for-mcp-extensions",children:"Advanced Features for MCP Extensions"}),"\n",(0,t.jsx)(n.p,{children:"goose supports advanced MCP features that can enhance your extensions."}),"\n",(0,t.jsx)(n.h3,{id:"mcp-sampling-ai-powered-tools",children:"MCP Sampling: AI-Powered Tools"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/guides/mcp-sampling",children:"MCP Sampling"})})," allows your MCP servers to request AI completions from goose's LLM, transforming simple tools into intelligent agents."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Benefits:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your MCP server doesn't need its own OpenAI/Anthropic API key"}),"\n",(0,t.jsx)(n.li,{children:"Tools can analyze data, provide explanations, and make intelligent decisions"}),"\n",(0,t.jsx)(n.li,{children:"Enhanced user experience with smarter, more contextual responses"}),"\n",(0,t.jsx)(n.li,{children:"Secure by design: requests are isolated and attributed automatically"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Getting Started:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use the ",(0,t.jsx)(n.code,{children:"sampling/createMessage"})," method in your MCP server to request AI assistance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/block/goose/blob/main/crates/goose/src/agents/mcp_client.rs",children:"goose's implementation"})," currently supports text and image content types"]}),"\n",(0,t.jsx)(n.li,{children:"goose automatically advertises sampling capability to all MCP servers"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use Cases:"})," Document summarization, smart search filtering, code analysis, data insights"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Learn More:"})," See the ",(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io/specification/draft/client/sampling",children:"MCP Specification"})," for technical details."]}),"\n",(0,t.jsx)(n.h3,{id:"mcp-apps-interactive-extensions",children:"MCP Apps: Interactive Extensions"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/tutorials/building-mcp-apps",children:"MCP Apps"})})," enable rich, interactive user interfaces instead of text-only responses."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Benefits:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Return interactive UI components from your MCP server tools"}),"\n",(0,t.jsx)(n.li,{children:"Components render securely in isolated sandboxes within goose Desktop"}),"\n",(0,t.jsx)(n.li,{children:"Real-time user interactions trigger callbacks to your server"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use Cases:"})," Interactive forms, data visualizations, booking interfaces, configuration wizards"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Learn More:"})," ",(0,t.jsx)(n.a,{href:"/docs/tutorials/building-mcp-apps",children:"Building MCP Apps Tutorial"})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["goose also supports ",(0,t.jsx)(n.a,{href:"/docs/guides/interactive-chat/mcp-ui",children:"MCP-UI"}),", but MCP Apps is the recommended path for new extensions."]})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}}}]);