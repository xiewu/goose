"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[9004],{10931:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var o=t(71112),i=t(74848);function s({extensionId:e,extensionName:n,description:t,type:s,command:a,args:r,url:l,envVars:d=[],apiKeyLink:h,apiKeyLinkText:c,customStep3:m,hasEnvVars:u,appendToStep3:x}){const g=s||(a?"stdio":l?"sse":"stdio"),p=(()=>{if(m)return m;if(h&&c)return(0,i.jsxs)(i.Fragment,{children:["Get your ",(0,i.jsx)("a",{href:h,children:c})," and paste it in"]});if(d.length>0){const e=d.map(e=>e.name).join(", "),n="http"===g,t=n?"header":"environment variable",o=n?"headers":"environment variables";return`Obtain your ${e} and paste ${d.length>1?`them as ${o}`:`it as a ${t}`}`}return null})(),j=x?(0,i.jsxs)(i.Fragment,{children:[p,p?(0,i.jsx)("br",{}):null,x]}):p,b=u??null!==j;return(0,i.jsx)("div",{children:(0,i.jsxs)("ol",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:(()=>{let o=[];"http"===g&&o.push("type=streamable_http"),l?o.push(`url=${encodeURIComponent(l)}`):a&&r&&(o.push(`cmd=${encodeURIComponent(a)}`),o.push(...r.map(e=>`arg=${encodeURIComponent(e)}`))),o.push(`id=${encodeURIComponent(e)}`,`name=${encodeURIComponent(n)}`,`description=${encodeURIComponent(t)}`);const i="http"===g?"header":"env";return o.push(...d.map(e=>`${i}=${encodeURIComponent(`${e.name}=${e.label}`)}`)),`goose://extension?${o.join("&")}`})(),children:"Launch the installer"})}),(0,i.jsxs)("li",{children:["Click ",(0,i.jsx)("code",{children:"Yes"})," to confirm the installation"]}),b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{children:j}),(0,i.jsxs)("li",{children:["Click ",(0,i.jsx)("code",{children:"Add Extension"})]})]}),(0,i.jsxs)("li",{children:["Click the ",(0,i.jsx)(o.A,{className:"inline",size:16})," button in the top-left to open the sidebar"]}),(0,i.jsx)("li",{children:"Navigate to the chat"})]})})}},54945:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>c,default:()=>g,frontMatter:()=>h,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"mcp/mbot-mcp","title":"mbot Extension","description":"Control a MakeBlock mbot2 rover through MQTT and MCP as a goose Extension","source":"@site/docs/mcp/mbot-mcp.md","sourceDirName":"mcp","slug":"/mcp/mbot-mcp","permalink":"/goose/docs/mcp/mbot-mcp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"mbot Extension","description":"Control a MakeBlock mbot2 rover through MQTT and MCP as a goose Extension"},"sidebar":"tutorialSidebar","previous":{"title":"Knowledge Graph Memory Extension","permalink":"/goose/docs/mcp/knowledge-graph-mcp"},"next":{"title":"Memory Extension","permalink":"/goose/docs/mcp/memory-mcp"}}');var i=t(74848),s=t(28453),a=t(11470),r=t(19365),l=t(74234),d=(t(10931),t(71654));const h={title:"mbot Extension",description:"Control a MakeBlock mbot2 rover through MQTT and MCP as a goose Extension"},c=void 0,m={},u=[{value:"Configuration",id:"configuration",level:2},{value:"Example Usage",id:"example-usage",level:2},{value:"goose Interaction",id:"goose-interaction",level:4}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{videoUrl:"https://www.youtube.com/embed/QKg2Q6YCzdw"}),"\n",(0,i.jsxs)(n.p,{children:["This tutorial will get you started with ",(0,i.jsx)(n.a,{href:"https://github.com/deemkeen/mbotmcp",children:"deemkeen's MQTT MCP server"})," for the ",(0,i.jsx)(n.a,{href:"https://www.makeblock.com/products/buy-mbot2",children:"MakeBlock mbot2 rover"}),", and outline some code changes we made along the way."]}),"\n",(0,i.jsxs)(n.admonition,{title:"TLDR",type:"tip",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Command"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"/path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Environment Variables"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"MQTT_SERVER_URI: tcp://1.2.3.4:1883\nMQTT_PASSWORD: <string or blank>\nMQTT_USERNAME: <string or blank>\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(a.A,{groupId:"interface",children:(0,i.jsx)(r.A,{value:"cli",label:"goose CLI",children:(0,i.jsx)(d.A,{name:"mbot2",description:"Control a MakeBlock mbot2 rover through MQTT and MCP",command:"/path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar",envVars:[{key:"MQTT_SERVER_URI",value:"\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa"},{key:"MQTT_USERNAME",value:"\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa"},{key:"MQTT_PASSWORD",value:"\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa"}],commandNote:(0,i.jsxs)(i.Fragment,{children:["Replace ",(0,i.jsx)(n.code,{children:"/path/to/java"})," and ",(0,i.jsx)(n.code,{children:"/path/to/mbotmcp-0.0.1-SNAPSHOT.jar"})," with your actual Java installation and JAR file paths."]}),infoNote:(0,i.jsxs)(i.Fragment,{children:["MQTT_SERVER_URI has a value like ",(0,i.jsx)(n.code,{children:"tcp://1.2.3.4:1883"}),". MQTT_USERNAME and MQTT_PASSWORD are required to exist, but can be empty strings if your MQTT server does not require authentication."]})})})}),"\n",(0,i.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.p,{children:"The available commands allow you to drive the mbot2 rover around, including:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'"turn left" or "turn right""'}),"\n",(0,i.jsx)(n.li,{children:'drive "forward" or "backward"'}),"\n",(0,i.jsx)(n.li,{children:'"explore" randomly'}),"\n",(0,i.jsx)(n.li,{children:'"stop" exploring'}),"\n",(0,i.jsx)(n.li,{children:'"beep"'}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The default distance to travel is 70cm (about 27 inches), and the turn angles are set to 90 degrees. You can change these values in the ",(0,i.jsx)(n.a,{href:"https://github.com/deemkeen/mbotmcp/blob/main/assets/mbot-mqtt.py",children:"Python code on the mbot2"}),". The mbot2 has a lot of other capabilities with the proximity sensors, lights, and color detection sensor on the bottom of the unit that you can add to the Python code, and will need to update ",(0,i.jsx)(n.a,{href:"https://github.com/deemkeen/mbotmcp/blob/main/src/main/java/de/emkeen/mbotmcp/service/BotService.java",children:"the Java code"})," to include those commands via MCP."]}),"\n",(0,i.jsx)(n.h4,{id:"goose-interaction",children:"goose Interaction"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"( O)> Let my mbot2 explore the area\n\n    Okay, let's get the mbot2 rover moving. I will send it on a mission to explore the area.\n\n    > Mbotexplore\n\n( O)> stop the rover, turn left and move forward\n\n    Alright, I will stop the rover, turn to the left, and then move it forward.\n\n    > Mbotstop\n\n    > Mbotleft\n\n    > Mbotforward\n\n( O)> let's move backward and beep so I know when it's finished\n\n    Sure, I will move the rover backward and beep when it's done.\n\n    > Mbotbackward\n\n    > Mbotbeep\n\n    Okay, the mbot2 has moved and beeped. What else would you like to do with the rover?\n\n"})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},71654:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var o=t(83457),i=t(27293),s=t(74848);function a({name:e,description:n,type:t="stdio",command:a,url:r,timeout:l=300,envVars:d=[],infoNote:h,commandNote:c}){const m=d.length>0,u="sse"===t,x="http"===t,g=u||x,p=x?"Would you like to add custom headers?":"Would you like to add environment variables?";m&&d.length;return(0,s.jsxs)("div",{children:[(0,s.jsx)("ol",{children:(0,s.jsxs)("li",{children:["Run the ",(0,s.jsx)("code",{children:"configure"})," command:"]})}),(0,s.jsx)(o.A,{language:"sh",children:"goose configure"}),(0,s.jsx)("ol",{start:2,children:(0,s.jsxs)("li",{children:["Choose to add a"," ",(0,s.jsx)("code",{children:u?"Remote Extension (SSE)":x?"Remote Extension (Streaming HTTP)":"Command-line Extension"}),"."]})}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension \n\u2502\n\u25c6  What type of extension would you like to add?\n${u?"\u2502  \u25cb Built-in Extension\n\u2502  \u25cb Command-line Extension\n// highlight-start\n\u2502  \u25cf Remote Extension (SSE) (Connect to a remote extension via Server-Sent Events)\n// highlight-end\n\u2502  \u25cb Remote Extension (Streaming HTTP)":x?"\u2502  \u25cb Built-in Extension\n\u2502  \u25cb Command-line Extension\n\u2502  \u25cb Remote Extension (SSE)\n// highlight-start\n\u2502  \u25cf Remote Extension (Streaming HTTP) (Connect to a remote extension via MCP Streaming HTTP)\n// highlight-end":"\u2502  \u25cb Built-in Extension\n// highlight-start\n\u2502  \u25cf Command-line Extension (Run a local command or script)\n// highlight-end\n\u2502  \u25cb Remote Extension (SSE)\n\u2502  \u25cb Remote Extension (Streaming HTTP)"}\n\u2514`}),(0,s.jsx)("ol",{start:3,children:(0,s.jsx)("li",{children:"Give your extension a name."})}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension\n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  ${u?"Remote Extension (SSE)":x?"Remote Extension (Streaming HTTP)":"Command-line Extension"}\n\u2502\n// highlight-start\n\u25c6  What would you like to call this extension?\n\u2502  ${e}\n// highlight-end\n\u2514`}),g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ol",{start:4,children:(0,s.jsxs)("li",{children:["Enter the ",u?"SSE endpoint URI":"Streaming HTTP endpoint URI","."]})}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{type:"info",children:c}),(0,s.jsx)("br",{})]}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension \n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  ${u?"Remote Extension (SSE)":"Remote Extension (Streaming HTTP)"}\n\u2502\n\u25c7  What would you like to call this extension?\n\u2502  ${e}\n\u2502\n// highlight-start\n\u25c6  What is the ${u?"SSE endpoint URI":"Streaming HTTP endpoint URI"}?\n\u2502  ${r}\n// highlight-end\n\u2514`})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ol",{start:4,children:(0,s.jsx)("li",{children:"Enter the command to run when this extension is used."})}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{type:"info",children:c}),(0,s.jsx)("br",{})]}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension\n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  Command-line Extension \n\u2502\n\u25c7  What would you like to call this extension?\n\u2502  ${e}\n\u2502\n// highlight-start\n\u25c6  What command should be run?\n\u2502  ${a}\n// highlight-end\n\u2514`})]}),(0,s.jsx)("ol",{start:5,children:(0,s.jsxs)("li",{children:["Enter the number of seconds goose should wait for actions to complete before timing out. Default is"," ",(0,s.jsx)("code",{children:"300"})," seconds."]})}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension\n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  ${u?"Remote Extension (SSE)":x?"Remote Extension (Streaming HTTP)":"Command-line Extension"}\n\u2502\n\u25c7  What would you like to call this extension?\n\u2502  ${e}\n\u2502\n${g?`\u25c7  What is the ${u?"SSE endpoint URI":"Streaming HTTP endpoint URI"}?\n\u2502  ${r}\n\u2502`:`\u25c7  What command should be run?\n\u2502  ${a}\n\u2502`}\n// highlight-start\n\u25c6  Please set the timeout for this tool (in secs):\n\u2502  ${l}\n// highlight-end\n\u2514`}),(0,s.jsx)("ol",{start:6,children:(0,s.jsx)("li",{children:"Enter a description for this extension."})}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension\n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  ${u?"Remote Extension (SSE)":x?"Remote Extension (Streaming HTTP)":"Command-line Extension"}\n\u2502\n\u25c7  What would you like to call this extension?\n\u2502  ${e}\n\u2502\n${g?`\u25c7  What is the ${u?"SSE endpoint URI":"Streaming HTTP endpoint URI"}?\n\u2502  ${r}\n\u2502`:`\u25c7  What command should be run?\n\u2502  ${a}\n\u2502`}\n\u25c7  Please set the timeout for this tool (in secs):\n\u2502  ${l}\n\u2502\n// highlight-start\n\u25c6  Enter a description for this extension:\n\u2502  ${n}\n// highlight-end\n\u2514`}),(0,s.jsx)("ol",{start:7,children:(0,s.jsx)("li",{children:m?x?(0,s.jsxs)(s.Fragment,{children:["Add ",d.length>1?"custom headers":"a custom header"," for this extension."]}):(0,s.jsxs)(s.Fragment,{children:["Add ",d.length>1?"environment variables":"an environment variable"," for this extension."]}):x?(0,s.jsxs)(s.Fragment,{children:["Choose ",(0,s.jsx)("code",{children:"No"})," when asked to add custom headers."]}):(0,s.jsxs)(s.Fragment,{children:["Choose ",(0,s.jsx)("code",{children:"No"})," when asked to add environment variables."]})})}),!m&&(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension \n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  ${u?"Remote Extension (SSE)":x?"Remote Extension (Streaming HTTP)":"Command-line Extension"}\n\u2502\n\u25c7  What would you like to call this extension?\n\u2502  ${e}\n\u2502\n${g?`\u25c7  What is the ${u?"SSE endpoint URI":"Streaming HTTP endpoint URI"}?\n\u2502  ${r}\n\u2502`:`\u25c7  What command should be run?\n\u2502  ${a}\n\u2502`}\n\u25c7  Please set the timeout for this tool (in secs):\n\u2502  ${l}\n\u2502\n\u25c7  Enter a description for this extension:\n\u2502  ${n}\n\u2502\n// highlight-start\n\u25c6  ${p}\n\u2502  No\n// highlight-end\n\u2502\n\u2514  Added ${e} extension`}),m&&(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{type:"info",children:h}),(0,s.jsx)("br",{})]}),(0,s.jsx)(o.A,{language:"sh",children:`\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Add Extension\n\u2502\n\u25c7  What type of extension would you like to add?\n\u2502  ${u?"Remote Extension (SSE)":x?"Remote Extension (Streaming HTTP)":"Command-line Extension"}\n\u2502\n\u25c7  What would you like to call this extension?\n\u2502  ${e}\n\u2502\n${g?`\u25c7  What is the ${u?"SSE endpoint URI":"Streaming HTTP endpoint URI"}?\n\u2502  ${r}\n\u2502`:`\u25c7  What command should be run?\n\u2502  ${a}\n\u2502`}\n\u25c7  Please set the timeout for this tool (in secs):\n\u2502  ${l}\n\u2502\n\u25c7  Enter a description for this extension:\n\u2502  ${n}\n\u2502\n// highlight-start\n\u25c6  ${p}\n\u2502  Yes\n${d.map(({key:e,value:n},t)=>`\u2502\n\u25c7  ${x?"Header name":"Environment variable name"}:\n\u2502  ${e}\n\u2502\n\u25c7  ${x?"Header value":"Environment variable value"}:\n\u2502  ${n}\n\u2502\n\u25c7  Add another ${x?"header":"environment variable"}?\n\u2502  ${t===d.length-1?"No":"Yes"}`).join("\n")}\n// highlight-end\n\u2502\n\u2514  Added ${e} extension`})]})]})}},74234:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var o=t(27293),i=t(74848);const s=({videoUrl:e})=>(0,i.jsxs)("div",{children:[(0,i.jsx)(o.A,{type:"info",icon:"\ud83c\udfa5",title:"Plug & Play",className:"alert--video",children:(0,i.jsxs)("details",{children:[(0,i.jsx)("summary",{children:"Watch the demo"}),(0,i.jsx)("div",{style:{textAlign:"center",margin:"20px 0"},children:(0,i.jsx)("iframe",{width:"100%",height:"540",src:e,title:"YouTube Short",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}),(0,i.jsx)("hr",{})]})}}]);