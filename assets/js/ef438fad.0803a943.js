"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[6072],{28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var i=s(96540);const r={},o=i.createContext(r);function d(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(o.Provider,{value:n},e.children)}},45141:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/cli-providers","title":"CLI Providers","description":"Use Claude Code, Codex, Cursor Agent, or Gemini CLI subscriptions in goose","source":"@site/docs/guides/cli-providers.md","sourceDirName":"guides","slug":"/guides/cli-providers","permalink":"/goose/docs/guides/cli-providers","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":45,"frontMatter":{"sidebar_position":45,"title":"CLI Providers","sidebar_label":"CLI Providers","description":"Use Claude Code, Codex, Cursor Agent, or Gemini CLI subscriptions in goose"},"sidebar":"tutorialSidebar","previous":{"title":"Prompt Injection Detection","permalink":"/goose/docs/guides/security/prompt-injection-detection"},"next":{"title":"Subagents","permalink":"/goose/docs/guides/subagents"}}');var r=s(74848),o=s(28453);const d={sidebar_position:45,title:"CLI Providers",sidebar_label:"CLI Providers",description:"Use Claude Code, Codex, Cursor Agent, or Gemini CLI subscriptions in goose"},l="CLI Providers",t={},c=[{value:"Why Use CLI Providers?",id:"why-use-cli-providers",level:2},{value:"Benefits",id:"benefits",level:3},{value:"Session Management",id:"session-management",level:4},{value:"Workflow Integration",id:"workflow-integration",level:4},{value:"Interface Consistency",id:"interface-consistency",level:4},{value:"Available CLI Providers",id:"available-cli-providers",level:2},{value:"Claude Code",id:"claude-code",level:3},{value:"OpenAI Codex",id:"openai-codex",level:3},{value:"Cursor Agent",id:"cursor-agent",level:3},{value:"Gemini CLI",id:"gemini-cli",level:3},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"Claude Code",id:"claude-code-1",level:3},{value:"OpenAI Codex",id:"openai-codex-1",level:3},{value:"Cursor Agent",id:"cursor-agent-1",level:3},{value:"Gemini CLI",id:"gemini-cli-1",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Combining with Other Models",id:"combining-with-other-models",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Claude Code Configuration",id:"claude-code-configuration",level:3},{value:"Cursor Agent Configuration",id:"cursor-agent-configuration",level:3},{value:"OpenAI Codex Configuration",id:"openai-codex-configuration",level:3},{value:"Gemini CLI Configuration",id:"gemini-cli-configuration",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"System Prompt Filtering",id:"system-prompt-filtering",level:3},{value:"Message Translation",id:"message-translation",level:3},{value:"Response Processing",id:"response-processing",level:3},{value:"Error Handling",id:"error-handling",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cli-providers",children:"CLI Providers"})}),"\n",(0,r.jsx)(n.p,{children:"goose can make use of pass-through providers that integrate with existing CLI tools from Anthropic, OpenAI, Cursor, and Google. These providers allow you to use your existing Claude Code, Codex, Cursor Agent, and Google Gemini CLI subscriptions through goose's interface, adding session management, persistence, and workflow integration capabilities to these tools."}),"\n",(0,r.jsx)(n.admonition,{title:"Limitations",type:"warning",children:(0,r.jsx)(n.p,{children:"These providers don\u2019t fully support all goose features, may have platform or capability limitations, and can sometimes require advanced debugging if issues arise. They\u2019re included here purely as a convenience."})}),"\n",(0,r.jsx)(n.h2,{id:"why-use-cli-providers",children:"Why Use CLI Providers?"}),"\n",(0,r.jsx)(n.p,{children:"CLI providers are useful if you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"already have a Claude Code, Codex, Cursor, or Google Gemini CLI subscription and want to use it through goose instead of paying per token"}),"\n",(0,r.jsx)(n.li,{children:"need session persistence to save, resume, and export conversation history"}),"\n",(0,r.jsx)(n.li,{children:"want to use goose recipes and scheduled tasks to create repeatable workflows"}),"\n",(0,r.jsx)(n.li,{children:"prefer unified commands across different AI providers"}),"\n",(0,r.jsxs)(n.li,{children:["want to ",(0,r.jsx)(n.a,{href:"#combining-with-other-models",children:"use multiple models together"})," in your tasks"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"benefits",children:"Benefits"}),"\n",(0,r.jsx)(n.h4,{id:"session-management",children:"Session Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Persistent conversations"}),": Save and resume sessions across restarts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Export capabilities"}),": Export conversation history and artifacts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session organization"}),": Manage multiple conversation threads"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"workflow-integration",children:"Workflow Integration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Recipe compatibility"}),": Use CLI providers in automated goose recipes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scheduling support"}),": Include in scheduled tasks and workflows"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hybrid configurations"}),": Combine with LLM providers using lead/worker patterns"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"interface-consistency",children:"Interface Consistency"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Unified commands"}),": Use the same ",(0,r.jsx)(n.code,{children:"goose session"})," interface across all providers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistent configuration"}),": Manage all providers through goose's configuration system"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Extensions",type:"warning",children:(0,r.jsxs)(n.p,{children:["CLI providers do ",(0,r.jsx)(n.strong,{children:"not"})," give you access to goose's extension ecosystem (MCP servers, third-party integrations, etc.). They use their own built-in tools to prevent conflicts. If you need goose's extensions, use standard ",(0,r.jsx)(n.a,{href:"/docs/getting-started/providers#available-providers",children:"API providers"})," instead."]})}),"\n",(0,r.jsx)(n.h2,{id:"available-cli-providers",children:"Available CLI Providers"}),"\n",(0,r.jsx)(n.h3,{id:"claude-code",children:"Claude Code"}),"\n",(0,r.jsxs)(n.p,{children:["The Claude Code provider integrates with Anthropic's ",(0,r.jsx)(n.a,{href:"https://claude.ai/cli",children:"Claude CLI tool"}),", allowing you to use Claude models through your existing Claude Code subscription."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses Claude's latest models"}),"\n",(0,r.jsx)(n.li,{children:"200,000 token context limit"}),"\n",(0,r.jsx)(n.li,{children:"Automatic filtering of goose extensions from system prompts (since Claude Code has its own tool ecosystem)"}),"\n",(0,r.jsx)(n.li,{children:"JSON output parsing for structured responses"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Claude CLI tool installed and configured"}),"\n",(0,r.jsx)(n.li,{children:"Active Claude Code subscription"}),"\n",(0,r.jsx)(n.li,{children:"CLI tool authenticated with your Anthropic account"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"openai-codex",children:"OpenAI Codex"}),"\n",(0,r.jsxs)(n.p,{children:["The Codex provider integrates with OpenAI's ",(0,r.jsx)(n.a,{href:"https://developers.openai.com/codex/cli",children:"Codex CLI tool"}),", allowing you to use OpenAI models through your existing ChatGPT Plus/Pro subscription or API credits."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses OpenAI's GPT-5 series models (gpt-5.2-codex, gpt-5.2, gpt-5.1-codex-max, gpt-5.1-codex-mini)"}),"\n",(0,r.jsx)(n.li,{children:"Configurable reasoning effort levels (low, medium, high)"}),"\n",(0,r.jsx)(n.li,{children:"Optional skills support for enhanced capabilities"}),"\n",(0,r.jsx)(n.li,{children:"JSON output parsing for structured responses"}),"\n",(0,r.jsx)(n.li,{children:"Automatic filtering of goose extensions from system prompts"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Codex CLI tool installed (",(0,r.jsx)(n.code,{children:"npm i -g @openai/codex"})," or ",(0,r.jsx)(n.code,{children:"brew install --cask codex"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Active ChatGPT Plus/Pro subscription or OpenAI API credits"}),"\n",(0,r.jsx)(n.li,{children:"CLI tool authenticated with your OpenAI account"}),"\n",(0,r.jsxs)(n.li,{children:["By default, Codex requires running from a git repository. Set ",(0,r.jsx)(n.code,{children:"CODEX_SKIP_GIT_CHECK=true"})," to bypass this requirement"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cursor-agent",children:"Cursor Agent"}),"\n",(0,r.jsxs)(n.p,{children:["The Cursor provider integrates with Cursor's ",(0,r.jsx)(n.a,{href:"https://docs.cursor.com/en/cli/installation",children:"CLI agent"}),", providing access to through your existing subscription."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"integrates with Cursor Agent CLI coding tasks."}),"\n",(0,r.jsx)(n.li,{children:"ideal for code-related workflows and file interactions."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"cursor-agent tool installed and configured."}),"\n",(0,r.jsx)(n.li,{children:"CLI tool authenticated."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"gemini-cli",children:"Gemini CLI"}),"\n",(0,r.jsxs)(n.p,{children:["The Gemini CLI provider integrates with Google's ",(0,r.jsx)(n.a,{href:"https://ai.google.dev/gemini-api/docs",children:"Gemini CLI tool"}),", providing access to Gemini models through your Google AI subscription."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"1,000,000 token context limit"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Gemini CLI tool installed and configured"}),"\n",(0,r.jsx)(n.li,{children:"CLI tool authenticated with your Google account"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,r.jsx)(n.h3,{id:"claude-code-1",children:"Claude Code"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Install Claude CLI Tool"})}),"\n",(0,r.jsxs)(n.p,{children:["Follow the ",(0,r.jsx)(n.a,{href:"https://docs.anthropic.com/en/docs/claude-code/overview",children:"installation instructions for Claude Code"})," to install and configure the Claude CLI tool."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authenticate with Claude"})}),"\n",(0,r.jsx)(n.p,{children:"Ensure your Claude CLI is authenticated and working"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configure goose"})}),"\n",(0,r.jsx)(n.p,{children:"Set the provider environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export GOOSE_PROVIDER=claude-code\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Or configure through the goose CLI using ",(0,r.jsx)(n.code,{children:"goose configure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Configure Providers \n\u2502\n\u25c7  Which model provider should we use?\n\u2502  Claude Code \n\u2502\n\u25c7  Model fetch complete\n\u2502\n\u25c7  Enter a model from that provider:\n\u2502  default\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"openai-codex-1",children:"OpenAI Codex"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Install Codex CLI Tool"})}),"\n",(0,r.jsx)(n.p,{children:"Install the Codex CLI using npm or Homebrew:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm i -g @openai/codex\n# or\nbrew install --cask codex\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authenticate with OpenAI"})}),"\n",(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"codex"})," and follow the authentication prompts. You can use your ChatGPT account or API key."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configure goose"})}),"\n",(0,r.jsx)(n.p,{children:"Set the provider environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export GOOSE_PROVIDER=codex\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Or configure through the goose CLI using ",(0,r.jsx)(n.code,{children:"goose configure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"\u250c   goose-configure\n\u2502\n\u25c7  What would you like to configure?\n\u2502  Configure Providers\n\u2502\n\u25c7  Which model provider should we use?\n\u2502  OpenAI Codex CLI\n\u2502\n\u25c7  Model fetch complete\n\u2502\n\u25c7  Enter a model from that provider:\n\u2502  gpt-5.2-codex\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cursor-agent-1",children:"Cursor Agent"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Install Cursor agent Tool"})}),"\n",(0,r.jsxs)(n.p,{children:["Follow the ",(0,r.jsx)(n.a,{href:"https://docs.cursor.com/en/cli/installation",children:"installation instructions for Cursor Agent"})," to install and configure the cursor agent tool."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authenticate with Cursor"})}),"\n",(0,r.jsx)(n.p,{children:"Ensure your Cursor Agent is authenticated and working"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configure goose"})}),"\n",(0,r.jsx)(n.p,{children:"Set the provider environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export GOOSE_PROVIDER=cursor-agent\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Or configure through the goose CLI using ",(0,r.jsx)(n.code,{children:"goose configure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"\u250c   goose-configure\n\u2502\n\u25c7  What would you like to configure?\n\u2502  Configure Providers\n\u2502\n\u25c7  Which model provider should we use?\n\u2502  Cursor Agent\n\u2502\n\u25c7  Model fetch complete\n\u2502\n\u25c7  Enter a model from that provider:\n\u2502  default\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"gemini-cli-1",children:"Gemini CLI"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Install Gemini CLI Tool"})}),"\n",(0,r.jsxs)(n.p,{children:["Follow the ",(0,r.jsx)(n.a,{href:"https://blog.google/technology/developers/introducing-gemini-cli-open-source-ai-agent/",children:"installation instructions for Gemini CLI"})," to install and configure the Gemini CLI tool."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authenticate with Google"})}),"\n",(0,r.jsx)(n.p,{children:"Ensure your Gemini CLI is authenticated and working."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configure goose"})}),"\n",(0,r.jsx)(n.p,{children:"Set the provider environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export GOOSE_PROVIDER=gemini-cli\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Or configure through the goose CLI using ",(0,r.jsx)(n.code,{children:"goose configure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Configure Providers \n\u2502\n\u25c7  Which model provider should we use?\n\u2502  Gemini CLI \n\u2502\n\u25c7  Model fetch complete\n\u2502\n\u25c7  Enter a model from that provider:\n\u2502  default\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,r.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(n.p,{children:"Once configured, you can start a goose session using these providers just like any others:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"goose session\n"})}),"\n",(0,r.jsx)(n.h3,{id:"combining-with-other-models",children:"Combining with Other Models"}),"\n",(0,r.jsxs)(n.p,{children:["CLI providers work well in combination with other models using goose's ",(0,r.jsx)(n.a,{href:"/docs/tutorials/lead-worker",children:"lead/worker pattern"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Use Claude Code as lead model, GPT-4o as worker\nexport GOOSE_LEAD_PROVIDER=claude-code\nexport GOOSE_PROVIDER=openai\nexport GOOSE_MODEL=gpt-4o\nexport GOOSE_LEAD_MODEL=default\n\ngoose session\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,r.jsx)(n.h3,{id:"claude-code-configuration",children:"Claude Code Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOSE_PROVIDER"})}),(0,r.jsxs)(n.td,{children:["Set to ",(0,r.jsx)(n.code,{children:"claude-code"})," to use this provider"]}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOSE_MODEL"})}),(0,r.jsxs)(n.td,{children:["Model to use (only ",(0,r.jsx)(n.code,{children:"sonnet"})," or ",(0,r.jsx)(n.code,{children:"opus"})," are passed to CLI)"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"claude-sonnet-4-20250514"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CLAUDE_CODE_COMMAND"})}),(0,r.jsx)(n.td,{children:"Path to the Claude CLI command"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"claude"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Known Models:"})}),"\n",(0,r.jsxs)(n.p,{children:["The following models are recognized and passed to the Claude CLI via the ",(0,r.jsx)(n.code,{children:"--model"})," flag. If ",(0,r.jsx)(n.code,{children:"GOOSE_MODEL"})," is set to a value not in this list, no model flag is passed and Claude Code uses its default:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"sonnet"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"opus"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Permission Modes (",(0,r.jsx)(n.code,{children:"GOOSE_MODE"}),"):"]})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Mode"}),(0,r.jsx)(n.th,{children:"Claude Code Flag"}),(0,r.jsx)(n.th,{children:"Behavior"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auto"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--dangerously-skip-permissions"})}),(0,r.jsx)(n.td,{children:"Bypasses all permission prompts"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"smart-approve"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--permission-mode acceptEdits"})}),(0,r.jsx)(n.td,{children:"Auto-accepts edits, prompts for other actions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"approve"})}),(0,r.jsx)(n.td,{children:"Not supported"}),(0,r.jsx)(n.td,{children:"Returns an error"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"chat"})}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Default Claude Code behavior"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"cursor-agent-configuration",children:"Cursor Agent Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOSE_PROVIDER"})}),(0,r.jsxs)(n.td,{children:["Set to ",(0,r.jsx)(n.code,{children:"cursor-agent"})," to use this provider"]}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CURSOR_AGENT_COMMAND"})}),(0,r.jsx)(n.td,{children:"Path to the Cursor Agent command"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cursor-agent"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"openai-codex-configuration",children:"OpenAI Codex Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOSE_PROVIDER"})}),(0,r.jsxs)(n.td,{children:["Set to ",(0,r.jsx)(n.code,{children:"codex"})," to use this provider"]}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOSE_MODEL"})}),(0,r.jsx)(n.td,{children:"Model to use (only known models are passed to CLI)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"gpt-5.2-codex"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CODEX_COMMAND"})}),(0,r.jsx)(n.td,{children:"Path to the Codex CLI command"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"codex"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CODEX_REASONING_EFFORT"})}),(0,r.jsxs)(n.td,{children:["Reasoning effort level: ",(0,r.jsx)(n.code,{children:"low"}),", ",(0,r.jsx)(n.code,{children:"medium"}),", or ",(0,r.jsx)(n.code,{children:"high"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"high"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CODEX_ENABLE_SKILLS"})}),(0,r.jsxs)(n.td,{children:["Enable Codex skills: ",(0,r.jsx)(n.code,{children:"true"})," or ",(0,r.jsx)(n.code,{children:"false"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CODEX_SKIP_GIT_CHECK"})}),(0,r.jsxs)(n.td,{children:["Skip git repository requirement: ",(0,r.jsx)(n.code,{children:"true"})," or ",(0,r.jsx)(n.code,{children:"false"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Known Models:"})}),"\n",(0,r.jsxs)(n.p,{children:["The following models are recognized and passed to the Codex CLI via the ",(0,r.jsx)(n.code,{children:"-m"})," flag. If ",(0,r.jsx)(n.code,{children:"GOOSE_MODEL"})," is set to a value not in this list, no model flag is passed and Codex uses its default:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gpt-5.2-codex"})," (400K context, auto-compacting)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gpt-5.2"})," (400K context, auto-compacting)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gpt-5.1-codex-max"})," (256K context)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gpt-5.1-codex-mini"})," (256K context)"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Legacy Models",type:"note",children:(0,r.jsxs)(n.p,{children:["These are the default models supported by Codex CLI v0.77.0. To access older or legacy models, you can run ",(0,r.jsx)(n.code,{children:"codex -m <model_name>"})," directly or configure them in Codex's ",(0,r.jsx)(n.code,{children:"config.toml"}),". See the ",(0,r.jsx)(n.a,{href:"https://developers.openai.com/codex/cli",children:"Codex CLI documentation"})," for details."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Permission Modes (",(0,r.jsx)(n.code,{children:"GOOSE_MODE"}),"):"]})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Mode"}),(0,r.jsx)(n.th,{children:"Codex Flag"}),(0,r.jsx)(n.th,{children:"Behavior"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auto"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--yolo"})}),(0,r.jsx)(n.td,{children:"Bypasses all approvals and sandbox restrictions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"smart-approve"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--full-auto"})}),(0,r.jsx)(n.td,{children:"Workspace-write sandbox, approvals only on failure"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"approve"})}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Interactive approvals (Codex default behavior)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"chat"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--sandbox read-only"})}),(0,r.jsx)(n.td,{children:"Read-only sandbox mode"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"gemini-cli-configuration",children:"Gemini CLI Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environment Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOSE_PROVIDER"})}),(0,r.jsxs)(n.td,{children:["Set to ",(0,r.jsx)(n.code,{children:"gemini-cli"})," to use this provider"]}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GEMINI_CLI_COMMAND"})}),(0,r.jsx)(n.td,{children:"Path to the Gemini CLI command"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"gemini"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsx)(n.h3,{id:"system-prompt-filtering",children:"System Prompt Filtering"}),"\n",(0,r.jsx)(n.p,{children:"The CLI providers automatically filter out goose's extension information from system prompts since these CLI tools have their own tool ecosystems. This prevents conflicts and ensures clean interaction with the underlying CLI tools."}),"\n",(0,r.jsx)(n.h3,{id:"message-translation",children:"Message Translation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Claude Code"}),": Converts goose messages to Claude's JSON message format, handling tool calls and responses appropriately"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Codex"}),": Converts messages to simple text prompts with role prefixes (Human:/Assistant:), similar to Gemini CLI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cursor Agent"}),": Converts goose messages to Cursor's JSON message format, handling tool calls and responses appropriately"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gemini CLI"}),": Converts messages to simple text prompts with role prefixes (Human:/Assistant:)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"response-processing",children:"Response Processing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Claude Code"}),": Parses JSON responses to extract text content and usage information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Codex"}),": Parses newline-delimited JSON events to extract text content and usage information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cursor Agent"}),": Parses JSON responses to extract text content and usage information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gemini CLI"}),": Processes plain text responses from the CLI tool"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.p,{children:"CLI providers depend on external tools, so ensure:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CLI tools are properly installed and in your PATH"}),"\n",(0,r.jsx)(n.li,{children:"Authentication is maintained and valid"}),"\n",(0,r.jsx)(n.li,{children:"Subscription limits are not exceeded"}),"\n",(0,r.jsxs)(n.li,{children:["For Codex: you're in a git repository, or set ",(0,r.jsx)(n.code,{children:"CODEX_SKIP_GIT_CHECK=true"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"CLI providers offer a way to use existing AI tool subscriptions through goose's interface, adding session management and workflow integration capabilities. They're particularly valuable for users with existing CLI subscriptions who want unified session management and recipe integration."})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);