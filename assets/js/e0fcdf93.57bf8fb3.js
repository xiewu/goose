"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[8155],{4227:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"guides/logs","title":"goose Logging System","description":"goose uses a unified storage system for conversations and interactions. All conversations and interactions (both CLI and Desktop) are stored locally in the following locations:","source":"@site/docs/guides/logs.md","sourceDirName":"guides","slug":"/guides/logs","permalink":"/goose/docs/guides/logs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":65,"frontMatter":{"title":"goose Logging System","sidebar_label":"Logging System","sidebar_position":65},"sidebar":"tutorialSidebar","previous":{"title":"LLM Rate Limits","permalink":"/goose/docs/guides/handling-llm-rate-limits-with-goose"},"next":{"title":"File Management","permalink":"/goose/docs/guides/file-management"}}');var o=n(74848),l=n(28453);const t={title:"goose Logging System",sidebar_label:"Logging System",sidebar_position:65},r=void 0,d={},a=[{value:"Command History",id:"command-history",level:2},{value:"Session Records",id:"session-records",level:2},{value:"System Logs",id:"system-logs",level:2},{value:"Desktop Application Log",id:"desktop-application-log",level:3},{value:"CLI Logs",id:"cli-logs",level:3},{value:"Server Logs",id:"server-logs",level:3},{value:"LLM Request Logs",id:"llm-request-logs",level:3}];function c(s){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...s.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["goose uses a unified storage system for conversations and interactions. All conversations and interactions (both CLI and Desktop) are stored ",(0,o.jsx)(e.strong,{children:"locally"})," in the following locations:"]}),"\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:(0,o.jsx)(e.strong,{children:"Type"})}),(0,o.jsx)(e.th,{children:(0,o.jsx)(e.strong,{children:"Unix-like (macOS, Linux)"})}),(0,o.jsx)(e.th,{children:(0,o.jsx)(e.strong,{children:"Windows"})})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Command History"})}),(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"~/.config/goose/history.txt"})}),(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\history.txt"})})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Session Records"})}),(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"~/.local/share/goose/sessions/sessions.db"})}),(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\sessions\\sessions.db"})})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"System Logs"})}),(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"~/.local/state/goose/logs/"})}),(0,o.jsx)(e.td,{children:(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\logs\\"})})]})]})]}),"\n",(0,o.jsx)(e.admonition,{title:"Privacy",type:"info",children:(0,o.jsx)(e.p,{children:"goose is a local application and all goose log files are stored locally. These logs are never sent to external servers or third parties, ensuring that all goose data remains private and under your control.\nNote that the LLMs and tools goose uses on your behalf may have their own logs and privacy considerations."})}),"\n",(0,o.jsx)(e.h2,{id:"command-history",children:"Command History"}),"\n",(0,o.jsx)(e.p,{children:"goose stores command history persistently across chat sessions, allowing goose to recall previous commands."}),"\n",(0,o.jsx)(e.p,{children:"Command history logs are stored in:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Unix-like: ",(0,o.jsx)(e.code,{children:" ~/.config/goose/history.txt"})]}),"\n",(0,o.jsxs)(e.li,{children:["Windows: ",(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\history.txt"})]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"session-records",children:"Session Records"}),"\n",(0,o.jsx)(e.p,{children:"goose maintains session records that track the conversation history and interactions for each session.\nSessions are stored in an SQLite database at:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Unix-like"}),": ",(0,o.jsx)(e.code,{children:"~/.local/share/goose/sessions/sessions.db"})]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Windows"}),": ",(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\sessions\\sessions.db"})]}),"\n"]}),"\n",(0,o.jsx)(e.admonition,{title:"Session Storage Migration",type:"info",children:(0,o.jsxs)(e.p,{children:["Prior to version 1.10.0, goose stored session records in individual ",(0,o.jsx)(e.code,{children:".jsonl"})," files under  ",(0,o.jsx)(e.code,{children:"~/.local/share/goose/sessions/"}),".\nWhen you upgrade to v1.10.0 or later, your existing sessions are automatically imported into the database. Legacy ",(0,o.jsx)(e.code,{children:".jsonl"})," files remain on disk but are no longer managed by goose."]})}),"\n",(0,o.jsx)(e.p,{children:"This database contains all saved session data including:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Session metadata (ID, name, working directory, timestamps)"}),"\n",(0,o.jsx)(e.li,{children:"Conversation messages (user commands, assistant responses, role information)"}),"\n",(0,o.jsx)(e.li,{children:"Tool calls and results (IDs, arguments, responses, success/failure status)"}),"\n",(0,o.jsx)(e.li,{children:"Token usage statistics"}),"\n",(0,o.jsx)(e.li,{children:"Extension data and configuration"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["Session IDs are named using ",(0,o.jsx)(e.code,{children:"YYYYMMDD_<COUNT>"})," format, for example: ",(0,o.jsx)(e.code,{children:"20250310_2"}),". goose CLI outputs the session ID at the start of each session. To get session IDs, use ",(0,o.jsxs)(e.a,{href:"/docs/guides/goose-cli-commands#session-list-options",children:[(0,o.jsx)(e.code,{children:"goose session list"})," command"]})," to see all available sessions."]}),"\n",(0,o.jsxs)(e.p,{children:["Also see ",(0,o.jsx)(e.a,{href:"/docs/guides/sessions/session-management",children:"Session Management"})," for details about searching sessions."]}),"\n",(0,o.jsx)(e.h2,{id:"system-logs",children:"System Logs"}),"\n",(0,o.jsx)(e.p,{children:"goose stores logs for its various components. CLI and server logs are automatically organized into date-based directories and cleaned up after two weeks to prevent excessive disk usage."}),"\n",(0,o.jsxs)(e.p,{children:["When ",(0,o.jsx)(e.a,{href:"/docs/guides/security/prompt-injection-detection",children:"prompt injection detection"})," is enabled, CLI and server logs also include:"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Security findings with unique IDs (format: ",(0,o.jsx)(e.code,{children:"SEC-{uuid}"}),")"]}),"\n",(0,o.jsx)(e.li,{children:"User decisions (allow/deny) associated with finding IDs"}),"\n"]}),"\n",(0,o.jsx)(e.admonition,{type:"info",children:(0,o.jsxs)(e.p,{children:["Extensions may optionally log to subdirectories under ",(0,o.jsx)(e.code,{children:"~/.local/state/goose/logs/"}),". The specific subdirectory structure is determined by each extension's implementation."]})}),"\n",(0,o.jsx)(e.h3,{id:"desktop-application-log",children:"Desktop Application Log"}),"\n",(0,o.jsx)(e.p,{children:"The desktop application maintains its own logs:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["macOS: ",(0,o.jsx)(e.code,{children:"~/Library/Application Support/Goose/logs/main.log"})]}),"\n",(0,o.jsxs)(e.li,{children:["Windows: ",(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\logs\\main.log"})]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["The desktop application follows platform conventions for its own operational logs and state data, but uses the standard goose ",(0,o.jsx)(e.a,{href:"#session-records",children:"session records"})," for actual conversations and interactions. This means your conversation history is consistent regardless of which interface you use to interact with goose."]}),"\n",(0,o.jsx)(e.h3,{id:"cli-logs",children:"CLI Logs"}),"\n",(0,o.jsx)(e.p,{children:"CLI logs are stored in:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Unix-like: ",(0,o.jsx)(e.code,{children:"~/.local/state/goose/logs/cli/"})]}),"\n",(0,o.jsxs)(e.li,{children:["Windows: ",(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\logs\\cli\\"})]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["Logs are organized into date-based subdirectories (e.g., ",(0,o.jsx)(e.code,{children:"cli/2025-11-13/"}),") and subdirectories older than two weeks are automatically deleted."]}),"\n",(0,o.jsx)(e.p,{children:"CLI session logs contain:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Tool invocations and responses"}),"\n",(0,o.jsx)(e.li,{children:"Command execution details"}),"\n",(0,o.jsx)(e.li,{children:"Session identifiers"}),"\n",(0,o.jsx)(e.li,{children:"Timestamps"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"CLI logs also capture extension-related activity, including:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Tool initialization"}),"\n",(0,o.jsx)(e.li,{children:"Tool capabilities and schemas"}),"\n",(0,o.jsx)(e.li,{children:"Extension-specific operations"}),"\n",(0,o.jsx)(e.li,{children:"Command execution results"}),"\n",(0,o.jsx)(e.li,{children:"Error messages and debugging information"}),"\n",(0,o.jsx)(e.li,{children:"Extension configuration states"}),"\n",(0,o.jsx)(e.li,{children:"Extension-specific protocol information"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"server-logs",children:"Server Logs"}),"\n",(0,o.jsx)(e.p,{children:"Server logs are stored in:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Unix-like: ",(0,o.jsx)(e.code,{children:"~/.local/state/goose/logs/server/"})]}),"\n",(0,o.jsxs)(e.li,{children:["Windows: ",(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\logs\\server\\"})]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["Logs are organized into date-based subdirectories (e.g., ",(0,o.jsx)(e.code,{children:"server/2025-11-13/"}),") and subdirectories older than two weeks are automatically deleted."]}),"\n",(0,o.jsxs)(e.p,{children:["The Server logs contain information about the goose daemon (",(0,o.jsx)(e.code,{children:"goosed"}),"), which is a local server process that runs on your computer. This server component manages communication between the CLI, extensions, and LLMs."]}),"\n",(0,o.jsx)(e.p,{children:"Server logs include:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Server initialization details"}),"\n",(0,o.jsx)(e.li,{children:"JSON-RPC communication logs"}),"\n",(0,o.jsx)(e.li,{children:"Server capabilities"}),"\n",(0,o.jsx)(e.li,{children:"Protocol version information"}),"\n",(0,o.jsx)(e.li,{children:"Client-server interactions"}),"\n",(0,o.jsx)(e.li,{children:"Extension loading and initialization"}),"\n",(0,o.jsx)(e.li,{children:"Tool definitions and schemas"}),"\n",(0,o.jsx)(e.li,{children:"Extension instructions and capabilities"}),"\n",(0,o.jsx)(e.li,{children:"Debug-level transport information"}),"\n",(0,o.jsx)(e.li,{children:"System capabilities and configurations"}),"\n",(0,o.jsx)(e.li,{children:"Operating system information"}),"\n",(0,o.jsx)(e.li,{children:"Working directory information"}),"\n",(0,o.jsx)(e.li,{children:"Transport layer communication details"}),"\n",(0,o.jsx)(e.li,{children:"Message parsing and handling information"}),"\n",(0,o.jsx)(e.li,{children:"Request/response cycles"}),"\n",(0,o.jsx)(e.li,{children:"Error states and handling"}),"\n",(0,o.jsx)(e.li,{children:"Extension initialization sequences"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"llm-request-logs",children:"LLM Request Logs"}),"\n",(0,o.jsx)(e.p,{children:"LLM request logs capture the raw request and response data sent to language model providers:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Unix-like: ",(0,o.jsx)(e.code,{children:"~/.local/state/goose/logs/llm_request.*.jsonl"})]}),"\n",(0,o.jsxs)(e.li,{children:["Windows: ",(0,o.jsx)(e.code,{children:"%APPDATA%\\Block\\goose\\data\\logs\\llm_request.*.jsonl"})]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["These logs use a numbered rotation system that keeps the 10 most recent completed requests (",(0,o.jsx)(e.code,{children:"llm_request.0.jsonl"})," through ",(0,o.jsx)(e.code,{children:"llm_request.9.jsonl"}),"). Each log contains the model configuration, input payload, response data, and token usage information."]})]})}function h(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,o.jsx)(e,{...s,children:(0,o.jsx)(c,{...s})}):c(s)}},28453:(s,e,n)=>{n.d(e,{R:()=>t,x:()=>r});var i=n(96540);const o={},l=i.createContext(o);function t(s){const e=i.useContext(l);return i.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(o):s.components||o:t(s.components),i.createElement(l.Provider,{value:e},s.children)}}}]);