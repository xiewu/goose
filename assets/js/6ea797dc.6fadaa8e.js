/*! For license information please see 6ea797dc.6fadaa8e.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[803],{4432:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(96540),r=o(46874),i=o(18839),s=o(26466),a=o(74848);const l={cardContainer:{display:"flex",flexDirection:"row",width:"100%",border:"1px solid var(--ifm-color-emphasis-200)",borderRadius:"12px",textDecoration:"none",color:"inherit",overflow:"hidden",background:"var(--ifm-background-color)",transition:"box-shadow 0.2s ease, transform 0.2s ease",marginBottom:"1rem"},cardContainerLarge:{width:"100%",maxWidth:"500px",aspectRatio:"16/9"},cardContainerCompact:{width:"100%",maxWidth:"350px",aspectRatio:"16/9"},cardHover:{boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transform:"translateY(-2px)"},mainArea:{flex:1,display:"flex",flexDirection:"column"},thumbnailWrapper:{position:"relative",width:"100%",height:"100%",paddingBottom:0,overflow:"hidden",background:"var(--ifm-color-emphasis-100)"},thumbnail:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},placeholderLogo:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"64px",height:"64px",opacity:.6},hoverOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"1.25rem",display:"flex",flexDirection:"column",justifyContent:"center",opacity:0,transition:"opacity 0.3s ease",zIndex:10,borderRadius:"12px"},hoverOverlayVisible:{opacity:1},hoverTitle:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"0.5rem",color:"white"},hoverDescription:{fontSize:"0.875rem",lineHeight:"1.4",marginBottom:"0.75rem",color:"rgba(255, 255, 255, 0.9)"},hoverMetadata:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.8)",fontWeight:"600",display:"flex",justifyContent:"space-between",marginTop:"auto"},hoverBookIcon:{width:"20px",height:"20px",color:"white",marginLeft:"4px"}};function d({type:e,title:t,description:o,thumbnailUrl:r,linkUrl:i,date:d,duration:c,size:u="compact"}){const[h,p]=n.useState(!1),[m,x]=n.useState(!1),g="compact"===u;n.useEffect(()=>{x("ontouchstart"in window||navigator.maxTouchPoints>0)},[]);const b={...l.cardContainer,...g?l.cardContainerCompact:l.cardContainerLarge,...h?l.cardHover:{},position:"relative"},f=l.thumbnailWrapper,v={...l.hoverOverlay,...h&&!m?l.hoverOverlayVisible:{},..."large"===u?{padding:"2.00rem"}:{}},j={...l.hoverTitle,..."large"===u?{fontSize:"1.4rem"}:{}},y={...l.hoverDescription,..."large"===u?{fontSize:"1.1rem"}:{}},w={...l.hoverMetadata,..."large"===u?{fontSize:"0.9rem"}:{}};if("topic"===e){const e={...l.hoverOverlay,opacity:1,..."large"===u?{padding:"2.00rem"}:{}};return(0,a.jsx)("a",{href:i,style:b,onMouseEnter:()=>!m&&p(!0),onMouseLeave:()=>!m&&p(!1),children:(0,a.jsx)("div",{style:l.mainArea,children:(0,a.jsxs)("div",{style:e,children:[(0,a.jsx)("h3",{style:j,children:t}),(0,a.jsx)("p",{style:y,children:o}),(0,a.jsxs)("div",{style:w,children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"DOCUMENTATION"})}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)(s.A,{style:l.hoverBookIcon})})]})]})})})}return(0,a.jsxs)("a",{href:i,style:b,onMouseEnter:()=>!m&&p(!0),onMouseLeave:()=>!m&&p(!1),children:[(0,a.jsx)("div",{style:l.mainArea,children:(0,a.jsx)("div",{style:f,children:r?(0,a.jsx)("img",{style:l.thumbnail,src:r,alt:`Thumbnail for ${t}`}):(0,a.jsx)("img",{style:l.placeholderLogo,src:"/goose/img/goose.svg",alt:"Goose logo placeholder"})})}),!m&&(0,a.jsxs)("div",{style:v,children:[(0,a.jsx)("h3",{style:j,children:t}),(0,a.jsx)("p",{style:y,children:o}),(0,a.jsxs)("div",{style:w,children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:e.toUpperCase()})}),(0,a.jsx)("div",{children:d&&(0,a.jsx)("span",{children:(e=>{const[t,o,n]=e.split("-").map(Number);return new Date(t,o-1,n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})(d)})}),(0,a.jsxs)("div",{children:[c&&(0,a.jsx)("span",{children:c}),"blog"===e&&!c&&(0,a.jsx)("span",{children:"5 min read"})]})]})]})]})}const c={container:{margin:"2rem 0"},swiperContainer:{paddingBottom:"2rem"}};function u({items:e,size:t,showNavigation:o=!0,showPagination:n=!0}){return(0,a.jsx)("div",{style:c.container,children:(0,a.jsx)(r.RC,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,navigation:o,pagination:!!n&&{clickable:!0},modules:[i.Vx,i.dK,i.U1],style:c.swiperContainer,children:e.map((e,o)=>(0,a.jsx)(r.qr,{style:{width:"large"===t?"min(500px, 90vw)":"min(350px, 85vw)",minWidth:"large"===t?"300px":"250px"},children:(0,a.jsx)(d,{type:e.type,title:e.title,description:e.description,thumbnailUrl:e.thumbnailUrl,linkUrl:e.linkUrl,date:e.date,duration:e.duration,size:t})},o))})})}},9259:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>d,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"guides/managing-tools/code-mode","title":"Code Mode","description":"Understanding how Code Mode handles tool discovery and tool calling","source":"@site/docs/guides/managing-tools/code-mode.md","sourceDirName":"guides/managing-tools","slug":"/guides/managing-tools/code-mode","permalink":"/goose/docs/guides/managing-tools/code-mode","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Code Mode","sidebar_label":"Code Mode","description":"Understanding how Code Mode handles tool discovery and tool calling"},"sidebar":"tutorialSidebar","previous":{"title":"Adjust Tool Output","permalink":"/goose/docs/guides/managing-tools/adjust-tool-output"},"next":{"title":"goose Permissions","permalink":"/goose/docs/guides/goose-permissions"}}');var r=o(74848),i=o(28453),s=(o(11470),o(19365),o(4432));const a=o.p+"assets/images/header-image-1fa39f1d26aea7722e2c10fc424804f5.jpg",l=o.p+"assets/images/header-image-c7b1f3556c63058f53eeb740bdaffa3b.png",d={sidebar_position:3,title:"Code Mode",sidebar_label:"Code Mode",description:"Understanding how Code Mode handles tool discovery and tool calling"},c=void 0,u={},h=[{value:"How Code Mode Works",id:"how-code-mode-works",level:2},{value:"Traditional vs. Code Mode Tool Calling",id:"traditional-vs-code-mode-tool-calling",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Code Mode is a method of interacting with MCP tools programmatically instead of calling them directly. Code Mode is particularly useful when working with many enabled extensions, as it can help manage context window usage more efficiently."}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsxs)(t.p,{children:["This functionality requires the built-in ",(0,r.jsx)(t.a,{href:"/docs/mcp/code-execution-mcp",children:"Code Execution extension"})," to be enabled."]})}),"\n",(0,r.jsx)(t.p,{children:"Code Mode controls how tools are discovered and called:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Tools from enabled extensions are discovered on-demand and loaded into context as needed"}),"\n",(0,r.jsx)(t.li,{children:"Multiple tool calls are batched in one execution"}),"\n",(0,r.jsx)(t.li,{children:"Intermediate results are chained (output from one tool as input to the next)"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"how-code-mode-works",children:"How Code Mode Works"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.a,{href:"/docs/mcp/code-execution-mcp",children:"Code Execution extension"})," is an MCP server that uses the MCP protocol to expose three foundational meta-tools. When Code Execution is enabled, goose switches to Code Mode. For every request, the LLM writes JavaScript code that goose runs in a sandbox environment to:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Discover available tools from your enabled extensions (if needed)"}),"\n",(0,r.jsx)(t.li,{children:"Learn how to work with the tools it needs for the current task"}),"\n",(0,r.jsx)(t.li,{children:"Call those tools programmatically to complete the task"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"traditional-vs-code-mode-tool-calling",children:"Traditional vs. Code Mode Tool Calling"}),"\n",(0,r.jsx)(t.p,{children:"Traditional MCP tool calling and Code Mode are two different approaches to the same goal: giving goose access to tools."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Aspect"}),(0,r.jsx)(t.th,{children:"Traditional"}),(0,r.jsx)(t.th,{children:"Code Mode"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Tool Discovery"})}),(0,r.jsxs)(t.td,{children:["All tools from enabled extensions, for example:",(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"developer.shell"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"developer.text_editor"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"github.list_issues"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"github.get_pull_request"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"slack.send_message"}),(0,r.jsx)("br",{}),"\u2022 ... ",(0,r.jsx)(t.em,{children:"potentially many more"})]}),(0,r.jsxs)(t.td,{children:["Code Execution extension's meta-tools:",(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"search_modules"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"read_module"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(t.code,{children:"execute_code"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"The LLM uses these tools to discover tools from other enabled extensions as needed"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Tool Calling"})}),(0,r.jsxs)(t.td,{children:["\u2022 Sequential tool calls",(0,r.jsx)("br",{}),"\u2022 Each result sent to the LLM before the next call"]}),(0,r.jsxs)(t.td,{children:["\u2022 May require tool discovery calls",(0,r.jsx)("br",{}),"\u2022 Multiple tool calls batched in one execution",(0,r.jsx)("br",{}),"\u2022 Intermediate results are chained and processed locally"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Context Window"})}),(0,r.jsx)(t.td,{children:"Every LLM call includes all tool definitions from enabled extensions"}),(0,r.jsx)(t.td,{children:"Every LLM call includes the 3 meta-tool definitions, plus any tool definitions previously discovered in the session"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Best For"})}),(0,r.jsxs)(t.td,{children:["\u2022 1-3 enabled extensions",(0,r.jsx)("br",{}),"\u2022 Simple tasks using 1-2 tools"]}),(0,r.jsxs)(t.td,{children:["\u2022 5+ extensions",(0,r.jsx)("br",{}),"\u2022 Well-defined multi-step workflows"]})]})]})]}),"\n",(0,r.jsx)(t.admonition,{title:"Text-Only Results",type:"info",children:(0,r.jsx)(t.p,{children:"Code Mode only supports text content from tool results. Images, binary data, and other content types are ignored."})}),"\n",(0,r.jsx)(t.h2,{id:"additional-resources",children:"Additional Resources"}),"\n","\n",(0,r.jsx)(s.A,{items:[{type:"blog",title:"Code Mode for MCP",description:"Learn about the code execution approach to MCP tool calling.",thumbnailUrl:a,linkUrl:"/goose/blog/2025/12/15/code-mode-mcp",date:"2025-12-15",duration:"5 min read"},{type:"blog",title:"Code Mode Doesn't Replace MCP",description:"Understanding how Code Mode and MCP work together.",thumbnailUrl:l,linkUrl:"/goose/blog/2025/12/21/code-mode-doesnt-replace-mcp",date:"2025-12-21",duration:"8 min read"}]})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},11470:(e,t,o)=>{o.d(t,{A:()=>C});var n=o(96540),r=o(34164),i=o(17559),s=o(23104),a=o(56347),l=o(205),d=o(57485),c=o(31682),u=o(70679);function h(e){return n.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:t,children:o}=e;return(0,n.useMemo)(()=>{const e=t??function(e){return h(e).map(({props:{value:e,label:t,attributes:o,default:n}})=>({value:e,label:t,attributes:o,default:n}))}(o);return function(e){const t=(0,c.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,o])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function x({queryString:e=!1,groupId:t}){const o=(0,a.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,d.aZ)(r),(0,n.useCallback)(e=>{if(!r)return;const t=new URLSearchParams(o.location.search);t.set(r,e),o.replace({...o.location,search:t.toString()})},[r,o])]}function g(e){const{defaultValue:t,queryString:o=!1,groupId:r}=e,i=p(e),[s,a]=(0,n.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const o=t.find(e=>e.default)??t[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:t,tabValues:i})),[d,c]=x({queryString:o,groupId:r}),[h,g]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[o,r]=(0,u.Dv)(t);return[o,(0,n.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:r}),b=(()=>{const e=d??h;return m({value:e,tabValues:i})?e:null})();(0,l.A)(()=>{b&&a(b)},[b]);return{selectedValue:s,selectValue:(0,n.useCallback)(e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),c(e),g(e)},[c,g,i]),tabValues:i}}var b=o(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=o(74848);function j({className:e,block:t,selectedValue:o,selectValue:n,tabValues:i}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),d=e=>{const t=e.currentTarget,r=a.indexOf(t),s=i[r].value;s!==o&&(l(t),n(s))},c=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const o=a.indexOf(e.currentTarget)+1;t=a[o]??a[0];break}case"ArrowLeft":{const o=a.indexOf(e.currentTarget)-1;t=a[o]??a[a.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:i.map(({value:e,label:t,attributes:n})=>(0,v.jsx)("li",{role:"tab",tabIndex:o===e?0:-1,"aria-selected":o===e,ref:e=>{a.push(e)},onKeyDown:c,onClick:d,...n,className:(0,r.A)("tabs__item",f.tabItem,n?.className,{"tabs__item--active":o===e}),children:t??e},e))})}function y({lazy:e,children:t,selectedValue:o}){const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===o);return e?(0,n.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==o}))})}function w(e){const t=g(e);return(0,v.jsxs)("div",{className:(0,r.A)(i.G.tabs.container,"tabs-container",f.tabList),children:[(0,v.jsx)(j,{...t,...e}),(0,v.jsx)(y,{...t,...e})]})}function C(e){const t=(0,b.A)();return(0,v.jsx)(w,{...e,children:h(e.children)},String(t))}},19365:(e,t,o)=>{o.d(t,{A:()=>s});o(96540);var n=o(34164);const r={tabItem:"tabItem_Ymn6"};var i=o(74848);function s({children:e,hidden:t,className:o}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,o),hidden:t,children:e})}},26466:(e,t,o)=>{o.d(t,{A:()=>n});const n=(0,o(75395).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},75395:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(96540);const r=(...e)=>e.filter((e,t,o)=>Boolean(e)&&""!==e.trim()&&o.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:d,...c},u)=>(0,n.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:s?24*Number(o)/Number(t):o,className:r("lucide",a),...c},[...d.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(l)?l:[l]])),a=(e,t)=>{const o=(0,n.forwardRef)(({className:o,...i},a)=>{return(0,n.createElement)(s,{ref:a,iconNode:t,className:r(`lucide-${l=e,l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,o),...i});var l});return o.displayName=`${e}`,o}}}]);